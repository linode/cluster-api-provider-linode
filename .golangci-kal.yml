version: "2"
run:
  issues-exit-code: 1
output:
  formats:
    text:
      path: stdout
linters:
  default: none
  enable:
    - kubeapilinter # linter for Kube API conventions
  settings:
    custom:
      kubeapilinter:
        type: "module"
        description: Kube API LInter lints Kube like APIs based on API conventions and best practices.
        settings:
          linters: {}
          lintersConfig:
            optionalfields:
              pointers:
                preference: WhenRequired
  exclusions:
    rules:
      - path-except: "^api/"
        linters:
          - kubeapilinter
      # integers linter will force type change from int to int32/int64, we are going to wait for v1beta1 to enable this
      - path: "api/v1alpha2/*"
        text: "integers"
        linters:
          - kubeapilinter
      # optionalfields requires changing fields to pointers in a way that might be hard to support in a backwards compatible way
      - path: "api/v1alpha2/*"
        text: "optionalfields"
        linters:
          - kubeapilinter
issues:
  max-issues-per-linter: 0
  max-same-issues: 0
  new: false
